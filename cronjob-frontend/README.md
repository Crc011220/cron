# CronJob 定时任务调度系统 - 前端

这是一个基于 React + TypeScript + Ant Design 构建的现代化定时任务调度系统前端应用。

## 🚀 功能特性

### 核心功能
- ✅ **用户认证与授权**：完整的JWT登录认证系统
- ✅ **RBAC权限管理**：基于角色的权限控制
- ✅ **响应式布局**：现代化的侧边栏+主内容区域布局
- ✅ **任务管理**：创建、编辑、删除、启停定时任务
- ✅ **脚本管理**：上传和管理执行脚本
- ✅ **实时监控**：系统状态和任务执行监控
- ✅ **权限控制**：细粒度的按钮级权限控制

### 页面结构
```
├── 登录页面 (/login)
├── 工作台 (/dashboard) - 系统概览
├── 脚本管理 (/scripts) - 脚本上传和管理
├── 任务管理 (/jobs) - 定时任务CRUD
├── 调度配置 (/cron) - Cron表达式配置
├── 系统管理 (/system/*) - 仅管理员
│   ├── 用户管理 (/system/users)
│   ├── 角色管理 (/system/roles)
│   └── 权限管理 (/system/permissions)
├── 系统监控 (/monitor) - 仅管理员
├── 个人资料 (/profile)
└── 账号设置 (/settings)
```

## 🛠 技术栈

| 技术 | 版本 | 用途 |
|-----|------|------|
| React | 19.1.0 | 前端框架 |
| TypeScript | 4.9.5 | 类型安全 |
| Ant Design | 5.25.3 | UI组件库 |
| React Router | 6.26.1 | 路由管理 |
| Zustand | 4.4.7 | 状态管理 |
| Axios | 1.9.0 | HTTP客户端 |
| Day.js | 1.11.10 | 时间处理 |
| js-cookie | 3.0.5 | Cookie管理 |

## 📦 项目结构

```
src/
├── components/              # 组件目录
│   ├── Auth/               # 认证相关组件
│   │   ├── ProtectedRoute.tsx    # 路由守卫
│   │   └── PermissionButton.tsx  # 权限按钮
│   ├── Layout/             # 布局组件
│   │   └── MainLayout.tsx        # 主布局
│   ├── JobList.tsx         # 任务列表
│   ├── ScriptUpload.tsx    # 脚本上传
│   └── CronScheduler.tsx   # Cron调度器
├── pages/                  # 页面组件
│   ├── Login.tsx          # 登录页
│   └── Dashboard.tsx      # 工作台
├── services/              # API服务
│   ├── api.ts            # 通用API
│   └── auth.ts           # 认证API
├── store/                 # 状态管理
│   └── useAuthStore.ts   # 认证状态
├── types/                # TypeScript类型
│   └── auth.ts          # 认证类型定义
├── utils/               # 工具函数
│   └── auth.ts         # 认证工具
├── App.tsx             # 根组件
└── index.tsx          # 入口文件
```

## 🔐 权限系统

### 权限级别
1. **页面级权限**：控制菜单显示和页面访问
2. **功能级权限**：控制按钮和操作显示
3. **数据级权限**：控制数据访问范围

### 权限编码规范
```
格式：{模块}:{操作}:{资源}

示例：
- MENU:JOB:VIEW      # 任务管理菜单查看权限
- BTN:JOB:CREATE     # 任务创建按钮权限
- BTN:JOB:EDIT       # 任务编辑按钮权限
- BTN:JOB:DELETE     # 任务删除按钮权限
- API:JOB:CONTROL    # 任务启停API权限
```

### 角色定义
- **ADMIN**：系统管理员，拥有所有权限
- **USER**：普通员工，只能管理自己的脚本和任务

## 🎨 UI设计

### 设计特点
- **现代化界面**：采用Ant Design设计语言
- **响应式布局**：支持PC和移动端访问
- **深色模式支持**：自适应系统主题
- **动画效果**：平滑的交互动画

### 颜色主题
- 主色调：#1890ff (蓝色)
- 成功色：#52c41a (绿色)
- 警告色：#faad14 (橙色)
- 错误色：#ff4d4f (红色)

## 🔧 开发指南

### 启动项目
```bash
# 安装依赖
npm install

# 启动开发服务器
npm start

# 构建生产版本
npm run build
```

### 环境要求
- Node.js >= 14.0.0
- npm >= 6.0.0

### 开发约定
1. **组件命名**：使用PascalCase
2. **文件命名**：使用PascalCase (组件文件)
3. **目录命名**：使用camelCase
4. **接口命名**：使用PascalCase
5. **变量命名**：使用camelCase

## 🔗 API接口

### 基础配置
- **API基地址**：`http://localhost:8088/api`
- **认证方式**：Bearer Token (JWT)
- **超时时间**：10秒

### 接口分类
- `/auth/*` - 认证相关
- `/jobs/*` - 任务管理
- `/scripts/*` - 脚本管理
- `/system/*` - 系统管理 (管理员)
- `/monitor/*` - 系统监控 (管理员)

## 🛡️ 安全特性

### 前端安全
- **XSS防护**：使用React内置的XSS防护
- **CSRF防护**：使用CSRF Token
- **权限验证**：每个操作都进行权限检查
- **路由守卫**：保护需要认证的页面

### 数据安全
- **Token管理**：安全的Token存储和管理
- **敏感信息**：不在前端存储敏感信息
- **HTTPS**：生产环境强制使用HTTPS

## 📱 浏览器支持

| 浏览器 | 版本要求 |
|--------|----------|
| Chrome | >= 88 |
| Firefox | >= 78 |
| Safari | >= 14 |
| Edge | >= 88 |

## 🐛 已知问题

1. **后端依赖**：当前使用模拟数据，部分功能需要后端支持
2. **实时更新**：任务状态实时更新功能待后端WebSocket支持
3. **文件上传**：大文件上传进度显示待优化

## 🔮 待开发功能

- [ ] 系统管理页面实现
- [ ] 实时日志查看
- [ ] 任务执行历史图表
- [ ] 批量操作功能
- [ ] 导入/导出配置
- [ ] 移动端优化
- [ ] 暗黑模式切换
- [ ] 国际化支持

## 📄 更新日志

### v1.0.0 (2024-01-20)
- ✅ 完成基础架构搭建
- ✅ 实现用户认证系统
- ✅ 完成权限管理框架
- ✅ 实现任务管理功能
- ✅ 完成脚本管理功能
- ✅ 添加工作台概览页面

## 👥 开发团队

- **前端开发**：负责React应用开发
- **UI设计**：负责界面设计和用户体验
- **测试**：负责功能测试和兼容性测试

## 📞 技术支持

如有问题请联系开发团队或查看项目文档。